'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _isUndefined=require('./isUndefined'),_isUndefined2=_interopRequireDefault(_isUndefined),_isArray=require('./isArray'),_isArray2=_interopRequireDefault(_isArray),_isNull=require('./isNull'),_isNull2=_interopRequireDefault(_isNull),_isFunction=require('./isFunction'),_isFunction2=_interopRequireDefault(_isFunction);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var isTokenFunctionCall=function(a){return'()'===a},isTokenArrayAccess=function(a){return /^\[\d+\]$/.test(a)},tokenize=function(a){return a.split(/\.|(\(\))|(\[\d+?])/).filter(function(b){return b})};function helper(a,b,c,d){if(0===b.length)return a;var e=b[0];return(0,_isUndefined2.default)(a)||(0,_isNull2.default)(a)||isTokenFunctionCall(e)&&!(0,_isFunction2.default)(a)?void 0:isTokenFunctionCall(e)?helper(a[(0,_isArray2.default)(d[0])?'apply':'call'](c,d[0]),b.slice(1),null,d.slice(1)):isTokenArrayAccess(e)?helper(a[parseInt(e.substr(1),10)],b.slice(1),isTokenFunctionCall(b[1])?a:c,d):helper(a[e],b.slice(1),isTokenFunctionCall(b[1])?a:c,d)}function safeGet(a,b){if((0,_isUndefined2.default)(b))return safeGet.bind(null,a);var c=Array.prototype.slice.call(arguments,2);return helper(a,tokenize(b),null,c)}exports.default=safeGet;